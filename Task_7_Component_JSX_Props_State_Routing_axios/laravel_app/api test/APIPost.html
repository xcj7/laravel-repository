<!-- <html>
   <head>
      <title>Ajax Example</title>
      
      <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>
      
      <script>
      
            $(document).ready(function () {
                $.ajax({ 
                    url: 'http://127.0.0.1:8000/api/products/list', 
                    dataType: 'json', 
                    type: 'GET',
                    ContentType: 'application/json',
                    processData: false,
                   
                    // data: JSON.stringify({"name":"sunil", "price":355 }),

                    success: function(res) {
                        console.log("ddd",res);
                      
                    },
                    error: function( jqXhr, textStatus, errorThrown ){
                        console.log("eeee", errorThrown );
                    }
                });
            });
       
      </script>
   </head>
   
   <body>
      <div id = 'msg'>This message will be replaced using Ajax. 
         Click the button to replace the message.</div>

         <div id="cand"></div>
     
   </body>

</html> -->


<html>
   <head>
      <title>Ajax Example</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
      
      <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>
      
     
   </head>
   
   <body>
<form >
  
  <div class="form-group">
      <label>Name:</label>
      <input type="text" name="name" class="form-control" placeholder="Name" required="">
  </div>

  <div class="form-group">
      <label>price:</label>
      <input type="text" name="price" class="form-control" placeholder="price" required="">
  </div>

  <div class="form-group">
      <strong>Image:</strong>
      <input type="file" name="image" class="form-control" placeholder="Image" required="">
  </div>

  <div class="form-group">
      <button class="btn btn-success btn-submit">Add</button>
  </div>

</form>
<a  class="btn-success" href="get_data.html">Show All Products</a><br><br>

    

         <div id="cand"></div>
     


         <script>
      
      $.ajaxSetup({
       
    });
   
    $(".btn-submit").click(function(e){
  
        e.preventDefault();

        var name = $("input[name=name]").val();
        var price = $("input[name=price]").val();
        var image = $("input[name=image]").val();

          $.ajax({ 
              url: 'http://127.0.0.1:8000/api/products/list', 
              type: 'POST',
              ContentType: 'application/json',
              data:{
                      "name":name,
                      "price": price,
                      "image":image
                  },
            success: function(res) {
                  console.log("ddd",res);
                
              },
              error: function( jqXhr, textStatus, errorThrown ){
                  console.log("eeee", errorThrown );
              }
          });

        });
 
</script>

   </body>

</html>